import { useState } from "react";

const C = { dk: "#1a472a", gr: "#2d6a3f", lg: "#4a9e6b", gold: "#d4a843", dkg: "#b8922e", wh: "#fff", off: "#f8f6f0", cr: "#f5f0e6", ch: "#2c2c2c", lt: "#e8e5de", red: "#c0392b", blu: "#2980b9", ven: "#008CFF", org: "#e67e22" };

const GROUPS = [
  { id: "skills", name: "Skills Challenge", day: "Friday", course: "Practice Facilities", criteria: "Under 70 √ó2 OR under 80 √ó4", max: null, tees: "N/A", holes: 6, tourn: "1-day", rate: 25, pars: [], stations: ["Hole Play","Putting","Approach","Full Irons & Full Swing","Woods & Full Swing","Bunker / Sand"], advanceTo: "Short Valley 4" },
  { id: "sv4", name: "Short Valley 4", day: "Friday", course: "Valley #1‚Äì#4", criteria: "33 or lower √ó3", max: 33, tees: "Black Junior", holes: 4, tourn: "1-day", rate: 25, pars: [4,3,5,4], advanceTo: "Long Valley 5" },
  { id: "lv5", name: "Long Valley 5", day: "Friday", course: "Valley #5‚Äì#9", criteria: "35 or lower √ó3", max: 35, tees: "Red", holes: 5, tourn: "1-day", rate: 25, pars: [4,3,4,5,4], advanceTo: "Short Valley 9" },
  { id: "sv9", name: "Short Valley 9", day: "Thursday", course: "Valley Full", criteria: "55 or lower √ó3", max: 55, tees: "Red", holes: 9, tourn: "1-day", rate: 30, pars: [4,3,5,4,4,3,4,5,4], advanceTo: "Long Valley 9" },
  { id: "lv9", name: "Long Valley 9", day: "Thursday", course: "Valley Full", criteria: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3", maxB: 55, maxG: 60, tees: "White", holes: 9, tourn: "1-day", rate: 30, pars: [4,3,5,4,4,3,4,5,4], advanceTo: "Jr Champ 9" },
  { id: "jc9", name: "Jr Champ 9", day: "Friday", course: "Champ #2‚Äì#9 / #10‚Äì#18", criteria: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3", maxB: 55, maxG: 60, tees: "Junior", holes: 9, tourn: "2-day", rate: 35, pars: [4,3,4,4,3,5,4,4,4], advanceTo: "Champ 9" },
  { id: "c9", name: "Championship 9", day: "Friday", course: "Champ #10‚Äì#18", criteria: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3", maxB: 55, maxG: 60, tees: "Boys:White / Girls:Red", holes: 9, tourn: "2-day", rate: 35, pars: [4,3,5,4,4,3,4,5,4], advanceTo: "Championship 18" },
  { id: "c18", name: "Championship 18", day: "Friday", course: "Championship Full", criteria: "Top group ‚Äî Privilege Card", max: null, tees: "Boys:Blue-White / Girls:Red", holes: 18, tourn: "2-day", rate: 35, pars: [4,4,3,4,4,3,5,4,4,4,3,5,4,4,3,4,5,4], advanceTo: null }
];

const JUNIORS = {
  skills: {
    date: "July 17, 2025",
    rule: "Score of 80 or lower √ó4 OR 70 or lower √ó2 ‚Üí advance to Short Valley 4",
    golfers: [
      { name: "Adelyn Borglum", g: "F", stations: [11,24,21,14,16,17], total: 103, puttsTotal: null, result: "" },
      { name: "Mila Probst", g: "F", stations: [7,24,16,13,14,13], total: 87, puttsTotal: null, result: "" },
      { name: "Elle Farrell", g: "F", stations: [6,21,15,11,6,13], total: 72, puttsTotal: null, result: "Qualifying Score #3" },
      { name: "Georgia Rector", g: "F", stations: [10,22,16,11,13,13], total: 85, puttsTotal: null, result: "" },
    ]
  },
  sv4: {
    date: "July 25, 2025",
    rule: "Score of 33 or lower √ó3 ‚Üí advance to Long Valley 5",
    golfers: [
      { name: "Annabelle Simon", g: "F", holes: [10,7,7,6], putts: [2,2,2,3], total: 30, puttsTotal: 9, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Hadley Gearhart", g: "F", holes: [10,10,5,7], putts: [3,5,2,3], total: 32, puttsTotal: 13, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Grayson Goettelmann", g: "M", holes: [6,9,5,6], putts: [3,5,2,2], total: 26, puttsTotal: 12, result: "Qualifying Score #1" },
      { name: "Sadie Duncan", g: "F", holes: [7,11,7,6], putts: [4,5,4,3], total: 31, puttsTotal: 16, result: "Qualifying Score #2" },
      { name: "MaryCate Edwards", g: "F", holes: [7,14,10,7], putts: [3,5,3,4], total: 38, puttsTotal: 15, result: "" },
    ]
  },
  lv5: {
    date: "July 25, 2025",
    rule: "Score of 35 or lower √ó3 ‚Üí advance to Short Valley 9",
    golfers: [
      { name: "Grady LaGrand", g: "M", holes: [3,5,5,4,6], putts: [2,2,2,2,2], total: 23, puttsTotal: 10, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Harrison Ward", g: "M", holes: [6,6,4,8,4], putts: [4,1,1,2,1], total: 28, puttsTotal: 9, result: "Qualifying Score #1" },
      { name: "Nathan Parks", g: "M", holes: [7,8,6,6,6], putts: [3,4,2,3,3], total: 33, puttsTotal: 15, result: "Qualifying Score #1" },
      { name: "Quinn Ellis", g: "M", holes: [5,6,6,6,10], putts: [3,3,2,3,3], total: 33, puttsTotal: 14, result: "Qualifying Score #1" },
      { name: "Lucy Duncan", g: "F", holes: [4,6,5,6,7], putts: [2,3,2,3,4], total: 28, puttsTotal: 14, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Maggie Moran", g: "F", holes: [9,9,7,7,10], putts: [4,3,4,3,3], total: 42, puttsTotal: 17, result: "" },
      { name: "Emmie Carney", g: "F", holes: [7,8,6,8,8], putts: [3,3,3,4,3], total: 37, puttsTotal: 16, result: "" },
      { name: "Hayes Simon", g: "M", holes: [7,6,7,7,7], putts: [4,2,3,2,2], total: 34, puttsTotal: 13, result: "Qualifying Score #1" },
      { name: "Jack Smith", g: "M", holes: [7,5,5,4,6], putts: [3,2,3,2,2], total: 27, puttsTotal: 12, result: "Qualifying Score #2" },
      { name: "John Flowers", g: "M", holes: [7,11,9,9,6], putts: [4,4,4,4,3], total: 42, puttsTotal: 19, result: "" },
    ]
  },
  lv9: {
    date: "July 24, 2025",
    rule: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3 ‚Üí advance to Jr Champ 9",
    golfers: [
      { name: "Finn O'Donnell", g: "M", holes: [6,5,4,6,4,5,9,5,6], putts: [2,2,2,3,2,1,2,3,2], total: 50, puttsTotal: 19, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Sullivan Krempges", g: "M", holes: [7,5,6,6,3,5,9,5,4], putts: [2,2,2,2,2,3,2,1,2], total: 50, puttsTotal: 18, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Eduardo Rivero", g: "M", holes: [6,7,3,5,4,5,8,6,9], putts: [2,2,1,1,2,2,2,2,3], total: 53, puttsTotal: 17, result: "Qualifying Score #3 ‚Äî Moves Up!" },
      { name: "Beau Borello", g: "M", holes: [7,4,5,7,5,6,5,8,6], putts: [3,1,3,5,3,2,3,4,2], total: 53, puttsTotal: 26, result: "Qualifying Score #2" },
      { name: "Charlie Smith", g: "M", holes: [9,8,4,7,4,8,12,5,6], putts: [2,4,3,2,3,3,3,2,2], total: 63, puttsTotal: 24, result: "" },
      { name: "Patrick Day", g: "M", holes: [5,4,4,4,4,4,7,5,10], putts: [2,2,2,2,3,2,4,2,3], total: 47, puttsTotal: 22, result: "Qualifying Score #1" },
      { name: "Mason Bolinger", g: "M", holes: [6,9,9,3,4,5,15,5,7], putts: [2,3,3,1,2,3,2,2,3], total: 63, puttsTotal: 21, result: "" },
      { name: "Felicity Parks", g: "F", holes: [12,5,6,8,9,9,11,7,7], putts: [2,2,2,3,2,3,3,3,2], total: 74, puttsTotal: 22, result: "" },
      { name: "Haddie O'Shaughnessy", g: "F", holes: [9,6,8,4,4,7,7,5,9], putts: [3,2,4,2,1,3,2,3,3], total: 59, puttsTotal: 23, result: "Qualifying Score #1" },
      { name: "Ella O'Donnell", g: "F", holes: [8,8,4,7,5,5,10,7,9], putts: [2,4,1,2,2,2,2,3,4], total: 63, puttsTotal: 22, result: "" },
    ]
  },
  jc9: {
    date: "July 25, 2025",
    rule: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3 ‚Üí advance to Champ 9",
    golfers: [
      { name: "Charlie Moran", g: "M", holes: [9,7,12,4,6,6,7,12,8], putts: [2,3,2,3,3,3,3,2,3], total: 71, puttsTotal: 24, result: "" },
      { name: "Tommy Smith", g: "M", holes: [4,6,7,4,9,4,6,7,7], putts: [1,3,2,2,4,2,3,3,3], total: 54, puttsTotal: 23, result: "Qualifying Score #1" },
      { name: "Calvin McNutt", g: "M", holes: [5,4,4,4,6,6,7,12,8], putts: [2,2,2,3,3,3,3,2,3], total: 56, puttsTotal: 23, result: "" },
      { name: "William Day", g: "M", holes: [5,6,5,4,8,4,6,7,7], putts: [3,3,2,2,3,2,2,3,4], total: 52, puttsTotal: 24, result: "Qualifying Score #1" },
      { name: "Henry Flowers", g: "M", holes: [8,7,5,9,5,3,7,7,7], putts: [4,3,2,1,2,2,2,2,2], total: 58, puttsTotal: 20, result: "" },
      { name: "Graeme Kerrigan", g: "M", holes: [5,7,6,6,6,4,6,9,5], putts: [1,3,2,3,4,2,1,2,2], total: 54, puttsTotal: 20, result: "Qualifying Score #2" },
      { name: "Mason Mauzy", g: "M", holes: [8,6,7,5,5,3,8,7,7], putts: [4,2,3,4,2,2,3,3,3], total: 56, puttsTotal: 26, result: "" },
      { name: "Luke Masterson", g: "M", holes: [7,7,6,3,6,4,4,7,6], putts: [3,5,3,2,4,3,1,3,2], total: 50, puttsTotal: 26, result: "Qualifying Score #1" },
      { name: "Kate Mueller", g: "F", holes: [5,7,8,4,10,6,8,7,6], putts: [1,3,3,2,3,3,2,2,3], total: 61, puttsTotal: 22, result: "" },
      { name: "Brooklyn Borello", g: "F", holes: [8,14,9,5,9,4,12,8,10], putts: [2,4,2,3,3,2,3,3,3], total: 79, puttsTotal: 25, result: "" },
      { name: "Emersen Underwood", g: "F", holes: [8,9,8,5,7,4,5,6,10], putts: [3,4,4,2,4,2,1,3,3], total: 62, puttsTotal: 26, result: "" },
    ]
  },
  c9: {
    date: "July 25, 2025",
    rule: "Boys ‚â§55 √ó3 / Girls ‚â§60 √ó3 ‚Üí advance to Championship 18",
    golfers: [
      { name: "Walter Finke", g: "M", holes: [7,6,4,6,7,6,3,8,5], putts: [3,3,2,3,1,2,2,2,2], total: 52, puttsTotal: 20, result: "Qualifying Score #2" },
      { name: "Brendan Edwards", g: "M", holes: [7,7,5,6,11,6,4,9,5], putts: [2,3,3,2,2,3,1,3,1], total: 60, puttsTotal: 20, result: "" },
    ]
  },
  c18: {
    date: "July 25, 2025",
    rule: "Top group ‚Äî Privilege Card tracking",
    golfers: [
      { name: "Jack Mannebach", g: "M", holes: [5,4,5,3,6,4,5,9,3], front9: 44, tees: "white", total: 44, result: "Priv. Card Score #3" },
      { name: "Jack Mannebach", g: "M", holes: [0,0,0,0,4,5,3,5,6,5,5,7,4], front9: 0, back9: 44, tees: "blue", total: 44, result: "Priv. Card Score #4", display: "Jack Mannebach (blue)" },
      { name: "James LaGrand", g: "M", holes: [5,6,5,5,5,6,6,5,4], front9: 47, back9: 46, tees: "white", total: 93, result: "Priv. Card Score #1 & 2" },
      { name: "Jaxen Meyer", g: "M", holes: [6,5,8,8,7,5,6,6,5], front9: 56, back9: 50, tees: "white", total: 106, result: "Priv. Card Score #3" },
      { name: "Liam Kallaos", g: "M", holes: [7,6,5,5,4,3,7,6,6], front9: 49, back9: 53, tees: "blue", total: 102, result: "Priv. Card Score #4" },
      { name: "Michael Mannebach", g: "M", holes: [5,5,3,4,6,5,4,7,5], front9: 44, back9: 50, tees: "blue", total: 94, result: "Priv. Card Score #3 & 4" },
      { name: "Oliver Rowe", g: "M", holes: [6,5,4,4,6,5,9,5,5], front9: 49, tees: "white", total: 49, result: "Priv. Card Score #3" },
      { name: "Oliver Rowe", g: "M", holes: [0,0,0,0,0,0,0,0,0,5,6,6,6,6,5,5,6,7], front9: 0, back9: 52, tees: "blue", total: 52, result: "", display: "Oliver Rowe (blue)" },
    ]
  }
};

const SCHEDULE = [
  { date: "Apr 1", ev: "Online Registration Opens", type: "admin" },{ date: "Apr 28", ev: "Junior Sports Expo / Ice Cream Social", time: "5-7 PM", type: "event" },
  { date: "Apr 30", ev: "Registration Closes", type: "admin" },{ date: "May 4", ev: "Pro Shop Evaluation", time: "9-11 AM", type: "eval" },
  { date: "May 5", ev: "Parent/Scorer Orientation", time: "5:30-6:30 PM", type: "parent" },{ date: "May 23", ev: "Parent/Scorer Orientation", time: "5:30-6:30 PM", type: "parent" },
  { date: "May 30", ev: "Valley 9 Groups", type: "play" },{ date: "May 31", ev: "Skills, 4 & 5 Valley", type: "play" },
  { date: "Jun 4-6", ev: "Camp: Skills, SV4 & LV5", type: "camp" },{ date: "Jun 11-14", ev: "Camp: V9, JC & C9", type: "camp" },
  { date: "Jun 14", ev: "Championship 18", type: "play" },{ date: "Jun 20", ev: "Valley 9 Groups", type: "play" },
  { date: "Jun 21", ev: "Skills, 4 & 5 Valley", type: "play" },{ date: "Jun 26", ev: "Junior Member-Guest", type: "event" },
  { date: "Jul 4-5", ev: "No Golf ‚Äî Happy 4th!", type: "off" },{ date: "Jul 11", ev: "Valley 9 Groups", type: "play" },
  { date: "Jul 12", ev: "Skills, 4 & 5 Valley", type: "play" },{ date: "Jul 13-14", ev: "Parent-Child Tournament", type: "event" },
  { date: "Jul 18-19", ev: "Season-Ending Tournament", type: "tournament" },{ date: "Jul 19", ev: "Awards Banquet 5:45 PM", type: "event" }
];

const ANNOUNCEMENTS = [
  { id: 1, title: "Congrats to our LV9 Advancers!", body: "Sullivan Krempges, Finn O'Donnell, and Eduardo Rivero have all earned their 3rd qualifying score and move up to Jr Champ 9!", time: "Jul 24", pinned: true, type: "achievement" },
  { id: 2, title: "Tomorrow's Tee Times Moved Up 30 Min", body: "Due to afternoon heat advisory, all Friday tee times moved up 30 minutes. Check ForeTees for updated times.", time: "Jul 24", pinned: true, type: "urgent" },
  { id: 3, title: "Tournament Results Posted", body: "LV9 Tournament: 1st Finn O'Donnell, 2nd William Day, 3rd Luke Masterson. Girls: 1st Elizabeth Rector.", time: "Jul 24", pinned: false, type: "event" },
  { id: 4, title: "Parent-Child Tournament Reminder", body: "July 13-14 Parent-Child Tournament. Sign up at the Golf Shop ‚Äî spots are limited!", time: "Jul 10", pinned: false, type: "event" },
];

const Badge = ({ children, bg, color }) => <span style={{ padding: "3px 10px", borderRadius: 12, fontSize: 11, fontWeight: 700, background: bg, color, display: "inline-block" }}>{children}</span>;
const Card = ({ children, style, onClick, borderColor }) => <div onClick={onClick} style={{ background: C.wh, borderRadius: 12, padding: 16, boxShadow: "0 2px 8px rgba(0,0,0,.06)", marginBottom: 12, borderLeft: borderColor ? `4px solid ${borderColor}` : undefined, cursor: onClick ? "pointer" : undefined, ...style }}>{children}</div>;
const Diamond = ({ size = 20, color = "#ccc" }) => <svg width={size} height={size * 1.4} viewBox="0 0 32 45"><polygon points="16,2 30,22 16,43 2,22" fill="none" stroke={color} strokeWidth="2" /><line x1="16" y1="2" x2="16" y2="43" stroke={color} strokeWidth="1" opacity=".5" /><line x1="2" y1="22" x2="30" y2="22" stroke={color} strokeWidth="1" opacity=".5" /></svg>;

const Scorecard = ({ golfer, group }) => {
  const g = GROUPS.find(x => x.id === group);
  if (!g) return null;
  const isSkills = group === "skills";
  const pars = g.pars;
  const isQ = golfer.result && golfer.result.includes("Qualifying");
  const isMU = golfer.result && golfer.result.includes("Moves Up");
  const isPriv = golfer.result && golfer.result.includes("Priv");
  const resBg = isMU ? "#00cc44" : isQ ? "#ffeb3b" : isPriv ? "#ffeb3b" : "transparent";
  const resColor = isMU ? "#fff" : "#333";

  if (isSkills) {
    return <div style={{ overflowX: "auto" }}>
      <table style={{ width: "100%", borderCollapse: "collapse", fontSize: 12 }}>
        <thead>
          <tr style={{ background: C.cr }}><th style={{ textAlign: "left", padding: "6px 8px" }}>Golfer</th>
            {g.stations.map((s, i) => <th key={i} style={{ padding: "4px 6px", fontSize: 10, minWidth: 50 }}>{s}</th>)}
            <th style={{ fontWeight: 700, padding: "4px 8px" }}>Total</th><th style={{ padding: "4px 8px", minWidth: 90 }}>Result</th>
          </tr>
        </thead>
        <tbody>
          <tr><td style={{ padding: "8px", fontWeight: 600 }}>{golfer.name}</td>
            {golfer.stations.map((v, i) => <td key={i} style={{ textAlign: "center", fontWeight: 600 }}>{v}</td>)}
            <td style={{ textAlign: "center", fontWeight: 800, fontSize: 14 }}>{golfer.total}</td>
            <td style={{ textAlign: "center", fontSize: 10, fontWeight: 700, background: resBg, color: resColor, borderRadius: 4 }}>{golfer.result || "‚Äî"}</td>
          </tr>
        </tbody>
      </table>
    </div>;
  }

  const holes = golfer.holes || [];
  const putts = golfer.putts || [];

  return <div style={{ overflowX: "auto" }}>
    <table style={{ width: "100%", borderCollapse: "collapse", fontSize: 11 }}>
      <thead>
        <tr style={{ background: C.cr }}>
          <th style={{ textAlign: "left", padding: "4px 6px", fontSize: 10 }}>Hole</th>
          {holes.map((_, i) => <th key={i} style={{ minWidth: 24, padding: "4px 3px", fontSize: 10 }}>{group === "c9" ? i + 10 : i + 1}</th>)}
          <th style={{ fontWeight: 700, padding: "4px 6px", fontSize: 10 }}>Tot</th>
          {putts.length > 0 && <th style={{ fontSize: 10, color: C.blu, padding: "4px 6px" }}>Putts</th>}
        </tr>
        {pars.length > 0 && <tr style={{ background: C.lt }}>
          <td style={{ textAlign: "left", padding: "2px 6px", fontSize: 9, fontWeight: 600 }}>Par</td>
          {pars.map((p, i) => <td key={i} style={{ textAlign: "center", fontSize: 9 }}>{p}</td>)}
          <td style={{ fontWeight: 700, fontSize: 9, textAlign: "center" }}>{pars.reduce((a, b) => a + b, 0)}</td>
          {putts.length > 0 && <td></td>}
        </tr>}
      </thead>
      <tbody>
        <tr>
          <td style={{ textAlign: "left", padding: "6px", fontWeight: 600, fontSize: 11 }}>Score</td>
          {holes.map((s, i) => {
            const par = pars[i] || 4, d = s - par;
            return <td key={i} style={{ textAlign: "center", fontWeight: 700, fontSize: 12, color: s === 0 ? "#ccc" : d <= -1 ? C.gr : d >= 2 ? C.red : C.ch }}>{s || "‚Äì"}</td>;
          })}
          <td style={{ textAlign: "center", fontWeight: 800, fontSize: 14, color: C.dk }}>{golfer.total}</td>
          {putts.length > 0 && <td style={{ textAlign: "center", fontWeight: 700, fontSize: 12, color: C.blu }}>{golfer.puttsTotal}</td>}
        </tr>
        {putts.length > 0 && <tr style={{ background: C.blu + "08" }}>
          <td style={{ textAlign: "left", padding: "2px 6px", fontSize: 9, color: C.blu, fontWeight: 600 }}>Putts</td>
          {putts.map((p, i) => <td key={i} style={{ textAlign: "center", fontSize: 10, color: C.blu, fontWeight: 600 }}>{p}</td>)}
          <td style={{ textAlign: "center", fontWeight: 700, fontSize: 10, color: C.blu }}>{golfer.puttsTotal}</td>
          <td></td>
        </tr>}
      </tbody>
    </table>
    {golfer.result && <div style={{ marginTop: 6, textAlign: "right" }}><span style={{ fontSize: 11, fontWeight: 700, padding: "3px 10px", borderRadius: 4, background: resBg, color: resColor }}>{golfer.result}</span></div>}
  </div>;
};

const GroupResults = ({ groupId, onBack }) => {
  const [expanded, setExpanded] = useState(null);
  const g = GROUPS.find(x => x.id === groupId);
  const data = JUNIORS[groupId];
  if (!g || !data) return null;

  return <div>
    <button onClick={onBack} style={{ background: "none", border: "none", color: C.gr, fontSize: 13, cursor: "pointer", padding: 0, marginBottom: 8 }}>‚Üê All Groups</button>
    <div style={{ background: `linear-gradient(135deg,${C.dk},${C.gr})`, borderRadius: 14, padding: 20, color: "#fff", marginBottom: 16 }}>
      <h2 style={{ fontSize: 20, fontWeight: 700, margin: 0 }}>{g.name} Results</h2>
      <div style={{ fontSize: 13, opacity: .8, marginTop: 4 }}>{data.date} ‚Ä¢ {g.course}</div>
      <div style={{ fontSize: 12, opacity: .7, marginTop: 4 }}>{g.day}s ‚Ä¢ {g.tees} tees</div>
    </div>
    <Card borderColor={C.gold} style={{ background: C.gold + "08" }}>
      <div style={{ fontSize: 13, fontWeight: 600, color: C.dkg }}>Advancement Rule</div>
      <div style={{ fontSize: 13, color: C.ch, marginTop: 2 }}>{data.rule}</div>
    </Card>

    <Card>
      <div style={{ overflowX: "auto" }}>
        <table style={{ width: "100%", borderCollapse: "collapse" }}>
          <thead><tr style={{ background: C.dk, color: "#fff" }}>
            <th style={{ textAlign: "left", padding: "8px 10px", fontSize: 12 }}>Golfer</th>
            <th style={{ padding: "8px 6px", fontSize: 12 }}>Total</th>
            {groupId !== "skills" && <th style={{ padding: "8px 6px", fontSize: 12 }}>Putts</th>}
            <th style={{ padding: "8px 10px", fontSize: 12, textAlign: "left" }}>Result</th>
          </tr></thead>
          <tbody>{data.golfers.map((gf, i) => {
            const isQ = gf.result.includes("Qualifying") || gf.result.includes("Priv");
            const isMU = gf.result.includes("Moves Up");
            return <tr key={i} onClick={() => setExpanded(expanded === i ? null : i)} style={{ cursor: "pointer", background: isMU ? "#e8f5e9" : isQ ? "#fffde7" : i % 2 === 0 ? C.wh : C.cr, borderBottom: `1px solid ${C.lt}` }}>
              <td style={{ padding: "10px", fontWeight: 600, fontSize: 13 }}>
                <div>{gf.display || gf.name}</div>
                <div style={{ fontSize: 10, color: "#999" }}>{gf.g === "M" ? "Boy" : "Girl"}{gf.tees ? ` ‚Ä¢ ${gf.tees} tees` : ""}</div>
              </td>
              <td style={{ textAlign: "center", fontWeight: 800, fontSize: 16, color: C.dk }}>{gf.total}</td>
              {groupId !== "skills" && <td style={{ textAlign: "center", fontSize: 13, color: C.blu, fontWeight: 600 }}>{gf.puttsTotal || "‚Äî"}</td>}
              <td style={{ padding: "10px", fontSize: 11 }}>
                {gf.result ? <span style={{ fontWeight: 700, padding: "2px 8px", borderRadius: 4, background: isMU ? "#00cc44" : "#ffeb3b", color: isMU ? "#fff" : "#333", fontSize: 10 }}>{gf.result}</span> : <span style={{ color: "#ccc" }}>‚Äî</span>}
              </td>
            </tr>;
          })}</tbody>
        </table>
      </div>
    </Card>

    {expanded !== null && <Card borderColor={C.gr}>
      <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center", marginBottom: 10 }}>
        <h3 style={{ margin: 0, fontSize: 15, color: C.dk }}>{data.golfers[expanded].display || data.golfers[expanded].name} ‚Äî Scorecard</h3>
        <button onClick={() => setExpanded(null)} style={{ background: "none", border: "none", fontSize: 18, cursor: "pointer", color: "#999" }}>‚úï</button>
      </div>
      <Scorecard golfer={data.golfers[expanded]} group={groupId} />
    </Card>}

    {expanded === null && <div style={{ textAlign: "center", padding: 12, color: "#aaa", fontSize: 12 }}>Tap any golfer to view their full scorecard</div>}
  </div>;
};

export default function App() {
  const [page, setPage] = useState("home");
  const [group, setGroup] = useState(null);
  const [sf, setSf] = useState("all");

  const NAV = [
    { id: "home", label: "Home" },
    { id: "skills", label: "Skills" },
    { id: "valley", label: "Valley Course" },
    { id: "champ", label: "Champ Course" },
    { id: "schedule", label: "Schedule" },
    { id: "info", label: "Info" },
  ];

  const valleyGroups = ["sv4", "lv5", "sv9", "lv9"];
  const champGroups = ["jc9", "c9", "c18"];

  const Header = () => (
    <header style={{ background: `linear-gradient(135deg,${C.dk},${C.gr})`, color: "#fff", position: "sticky", top: 0, zIndex: 100, boxShadow: "0 2px 12px rgba(0,0,0,.3)" }}>
      <div style={{ maxWidth: 900, margin: "0 auto", padding: "10px 14px" }}>
        <div style={{ display: "flex", alignItems: "center", gap: 10 }}>
          <Diamond size={20} color="#fff" />
          <div>
            <div style={{ fontSize: 10, letterSpacing: 2, opacity: .7, textTransform: "uppercase" }}>Forest Hills CC</div>
            <div style={{ fontSize: 16, fontWeight: 700, color: C.gold }}>Junior Golf</div>
          </div>
        </div>
        <nav style={{ display: "flex", gap: 3, marginTop: 8, overflowX: "auto", paddingBottom: 2, WebkitOverflowScrolling: "touch" }}>
          {NAV.map(n => <button key={n.id} onClick={() => { setPage(n.id); setGroup(null); }} style={{ background: page === n.id ? C.gold : "rgba(255,255,255,.1)", color: page === n.id ? C.dk : "#fff", border: "none", borderRadius: 6, padding: "6px 11px", fontSize: 12, fontWeight: page === n.id ? 700 : 500, cursor: "pointer", whiteSpace: "nowrap" }}>{n.label}</button>)}
        </nav>
      </div>
    </header>
  );

  const Home = () => {
    const allGolfers = Object.entries(JUNIORS).flatMap(([gid, d]) => d.golfers.map(gf => ({ ...gf, groupId: gid })));
    const advancers = allGolfers.filter(gf => gf.result.includes("Moves Up"));
    const qualifiers = allGolfers.filter(gf => gf.result.includes("Qualifying") && !gf.result.includes("Moves Up"));

    return <div>
      <div style={{ background: `linear-gradient(135deg,${C.dk},${C.gr})`, borderRadius: 14, padding: 24, color: "#fff", marginBottom: 16 }}>
        <h1 style={{ fontSize: 22, fontWeight: 300, margin: 0 }}>Forest Hills Junior Golf</h1>
        <p style={{ fontSize: 14, opacity: .9, marginTop: 6 }}>2025 Season Results</p>
        <div style={{ display: "flex", gap: 12, marginTop: 16, flexWrap: "wrap" }}>
          {[{ v: allGolfers.length, l: "Golfers" }, { v: advancers.length, l: "Moving Up" }, { v: qualifiers.length, l: "Qualifying" }, { v: Object.keys(JUNIORS).length, l: "Groups" }].map(s => <div key={s.l} style={{ background: "rgba(255,255,255,.15)", borderRadius: 10, padding: "10px 16px", flex: "1 1 70px", textAlign: "center" }}><div style={{ fontSize: 22, fontWeight: 800, color: C.gold }}>{s.v}</div><div style={{ fontSize: 10, opacity: .8 }}>{s.l}</div></div>)}
        </div>
      </div>

      <h3 style={{ fontSize: 15, color: C.dk, marginBottom: 8 }}>Announcements</h3>
      {ANNOUNCEMENTS.map(a => {
        const tc2 = { urgent: C.red, achievement: C.gr, event: C.gold, info: C.blu };
        const ic2 = { urgent: "üö®", achievement: "üèÜ", event: "üéâ", info: "‚ÑπÔ∏è" };
        return <Card key={a.id} borderColor={tc2[a.type]} style={{ padding: "12px 14px" }}>
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
            <span style={{ fontWeight: 700, fontSize: 14 }}>{ic2[a.type]} {a.title}</span>
            <span style={{ fontSize: 10, color: "#aaa" }}>{a.time}</span>
          </div>
          <div style={{ fontSize: 13, color: "#555", marginTop: 6, lineHeight: 1.4 }}>{a.body}</div>
        </Card>;
      })}

      {advancers.length > 0 && <>
        <h3 style={{ fontSize: 15, color: C.dk, marginBottom: 8, marginTop: 16 }}>Moving Up!</h3>
        {advancers.map((gf, i) => {
          const g2 = GROUPS.find(x => x.id === gf.groupId);
          return <Card key={i} borderColor="#00cc44" style={{ background: "#f0faf0" }}>
            <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
              <div><div style={{ fontWeight: 700, fontSize: 14 }}>{gf.name}</div><div style={{ fontSize: 11, color: "#888" }}>{g2?.name} ‚Üí {g2?.advanceTo}</div></div>
              <div style={{ textAlign: "right" }}><div style={{ fontSize: 20, fontWeight: 800, color: C.gr }}>{gf.total}</div></div>
            </div>
          </Card>;
        })}
      </>}

      <h3 style={{ fontSize: 15, color: C.dk, marginBottom: 8, marginTop: 16 }}>Quick Links</h3>
      <div style={{ display: "grid", gridTemplateColumns: "1fr 1fr", gap: 8 }}>
        {GROUPS.map(g2 => <Card key={g2.id} onClick={() => { setGroup(g2.id); setPage(valleyGroups.includes(g2.id) ? "valley" : champGroups.includes(g2.id) ? "champ" : "skills"); }} style={{ padding: 12, cursor: "pointer" }}>
          <div style={{ fontSize: 13, fontWeight: 700, color: C.dk }}>{g2.name}</div>
          <div style={{ fontSize: 11, color: "#888" }}>{g2.day}s ‚Ä¢ {JUNIORS[g2.id]?.golfers.length || 0} golfers</div>
          <div style={{ fontSize: 11, color: C.gr, fontWeight: 600, marginTop: 4 }}>{JUNIORS[g2.id]?.golfers.filter(gf => gf.result).length || 0} qualifying ‚Üí</div>
        </Card>)}
      </div>
    </div>;
  };

  const ValleyCourse = () => {
    if (group && valleyGroups.includes(group)) return <GroupResults groupId={group} onBack={() => setGroup(null)} />;
    return <div>
      <h2 style={{ margin: "0 0 14px", color: C.dk, fontSize: 20 }}>Valley Course Golfers</h2>
      <div style={{ display: "flex", gap: 3, marginBottom: 14, overflowX: "auto" }}>
        {valleyGroups.map(gid => { const g2 = GROUPS.find(x => x.id === gid); return <button key={gid} onClick={() => setGroup(gid)} style={{ padding: "8px 14px", background: C.wh, border: `1px solid ${C.lt}`, borderRadius: 8, fontSize: 12, fontWeight: 600, cursor: "pointer", whiteSpace: "nowrap" }}>{g2?.name}</button>; })}
      </div>
      {valleyGroups.map(gid => {
        const g2 = GROUPS.find(x => x.id === gid), d = JUNIORS[gid];
        if (!d) return null;
        const quals = d.golfers.filter(gf => gf.result);
        return <Card key={gid} onClick={() => setGroup(gid)} style={{ cursor: "pointer" }}>
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
            <div><div style={{ fontSize: 15, fontWeight: 700, color: C.dk }}>{g2?.name}</div><div style={{ fontSize: 12, color: "#888" }}>{d.date} ‚Ä¢ {d.golfers.length} golfers</div></div>
            <div style={{ textAlign: "right" }}>{quals.length > 0 && <Badge bg={C.gold + "20"} color={C.dkg}>{quals.length} qualifying</Badge>}<div style={{ fontSize: 14, color: C.gr, marginTop: 4 }}>View Results ‚Üí</div></div>
          </div>
          <div style={{ display: "flex", gap: 4, flexWrap: "wrap", marginTop: 10 }}>
            {d.golfers.slice(0, 5).map((gf, i) => <span key={i} style={{ fontSize: 11, background: gf.result ? C.gr + "12" : C.cr, padding: "2px 8px", borderRadius: 4 }}>{gf.name.split(" ")[0]} {gf.total}</span>)}
            {d.golfers.length > 5 && <span style={{ fontSize: 11, color: "#aaa" }}>+{d.golfers.length - 5} more</span>}
          </div>
        </Card>;
      })}
    </div>;
  };

  const ChampCourse = () => {
    if (group && champGroups.includes(group)) return <GroupResults groupId={group} onBack={() => setGroup(null)} />;
    return <div>
      <h2 style={{ margin: "0 0 14px", color: C.dk, fontSize: 20 }}>Championship Course Golfers</h2>
      <div style={{ display: "flex", gap: 3, marginBottom: 14, overflowX: "auto" }}>
        {champGroups.map(gid => { const g2 = GROUPS.find(x => x.id === gid); return <button key={gid} onClick={() => setGroup(gid)} style={{ padding: "8px 14px", background: C.wh, border: `1px solid ${C.lt}`, borderRadius: 8, fontSize: 12, fontWeight: 600, cursor: "pointer", whiteSpace: "nowrap" }}>{g2?.name}</button>; })}
      </div>
      {champGroups.map(gid => {
        const g2 = GROUPS.find(x => x.id === gid), d = JUNIORS[gid];
        if (!d) return null;
        const quals = d.golfers.filter(gf => gf.result);
        return <Card key={gid} onClick={() => setGroup(gid)} style={{ cursor: "pointer" }}>
          <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
            <div><div style={{ fontSize: 15, fontWeight: 700, color: C.dk }}>{g2?.name}</div><div style={{ fontSize: 12, color: "#888" }}>{d.date} ‚Ä¢ {d.golfers.length} golfers</div></div>
            <div style={{ textAlign: "right" }}>{quals.length > 0 && <Badge bg={C.gold + "20"} color={C.dkg}>{quals.length} results</Badge>}<div style={{ fontSize: 14, color: C.gr, marginTop: 4 }}>View Results ‚Üí</div></div>
          </div>
        </Card>;
      })}
    </div>;
  };

  const SkillsPage = () => {
    if (group === "skills") return <GroupResults groupId="skills" onBack={() => setGroup(null)} />;
    const d = JUNIORS.skills;
    return <div>
      <h2 style={{ margin: "0 0 14px", color: C.dk, fontSize: 20 }}>Skills Golfers</h2>
      <Card onClick={() => setGroup("skills")} style={{ cursor: "pointer" }}>
        <div style={{ display: "flex", justifyContent: "space-between", alignItems: "center" }}>
          <div><div style={{ fontSize: 15, fontWeight: 700, color: C.dk }}>Skills Challenge</div><div style={{ fontSize: 12, color: "#888" }}>{d.date} ‚Ä¢ {d.golfers.length} golfers</div></div>
          <div style={{ fontSize: 14, color: C.gr }}>View Results ‚Üí</div>
        </div>
      </Card>
    </div>;
  };

  const ScheduleView = () => {
    const tc2 = { play: C.gr, camp: C.blu, event: C.gold, admin: "#888", eval: C.dkg, parent: C.lg, tournament: C.red, off: "#bbb" };
    const tl = { play: "Play", camp: "Camp", event: "Event", admin: "Admin", eval: "Eval", parent: "Parent", tournament: "Tourney", off: "Off" };
    const filtered = sf === "all" ? SCHEDULE : SCHEDULE.filter(s => s.type === sf);
    return <div><h2 style={{ margin: "0 0 14px", color: C.dk, fontSize: 20 }}>Season Schedule</h2>
      <div style={{ display: "flex", gap: 6, flexWrap: "wrap", marginBottom: 14 }}>
        {["all", "play", "camp", "event", "tournament", "parent"].map(f => <button key={f} onClick={() => setSf(f)} style={{ background: sf === f ? C.dk : C.wh, color: sf === f ? "#fff" : C.ch, border: `1px solid ${C.lt}`, borderRadius: 20, padding: "5px 12px", fontSize: 11, cursor: "pointer" }}>{f === "all" ? "All" : tl[f]}</button>)}
      </div>
      {filtered.map((s, i) => <div key={i} style={{ background: C.wh, borderRadius: 10, padding: "12px 14px", boxShadow: "0 1px 3px rgba(0,0,0,.05)", display: "flex", alignItems: "center", gap: 10, borderLeft: `4px solid ${tc2[s.type]}`, marginBottom: 8 }}>
        <div style={{ minWidth: 65, fontSize: 13, fontWeight: 700 }}>{s.date}</div>
        <div style={{ flex: 1 }}><div style={{ fontSize: 13 }}>{s.ev}</div>{s.time && <div style={{ fontSize: 11, color: "#888" }}>{s.time}</div>}</div>
        <span style={{ background: tc2[s.type] + "18", color: tc2[s.type], padding: "2px 8px", borderRadius: 10, fontSize: 10, fontWeight: 600 }}>{tl[s.type]}</span>
      </div>)}
    </div>;
  };

  const InfoView = () => (
    <div><h2 style={{ margin: "0 0 14px", color: C.dk, fontSize: 20 }}>Program Info</h2>
      {[{ t: "Fees", c: "Skills‚ÄìChamp 9: $140 | Champ 18: $80" }, { t: "Eligibility", c: "Ages 7 (by 7/31)‚Äì19, senior year of HS max, children of Golfing Members." }, { t: "Dress Code", c: "No denim. Golf/tennis shoes. Boys: collared shirts tucked in. Girls: no halter/tank tops. Hats bill-forward." }, { t: "Scoring Obligations", c: "3√ó per season + 1 tournament. No-show fines: $75/$125/$200 (9-hole) or $100/$150/$200 (18-hole)." }, { t: "Privilege Card", c: "Boys: 5 rounds ‚â§50 on Champ 9. Girls: 5 rounds ‚â§57. Committee-approved scorer only." }, { t: "Future Juniors (4-6)", c: "Pre-junior intro program. Summer sessions Jun‚ÄìAug. Max 6 per session." }, { t: "Contact", c: "Golf Shop: (636) 227-1528 | Head Pro: Marvin Herrod (636) 207-3525 | Chairs: Carol Clifford & Chrissie Schultheiss" }].map(s => <Card key={s.t}><div style={{ fontSize: 14, fontWeight: 700, color: C.dk, marginBottom: 4 }}>{s.t}</div><div style={{ fontSize: 13, lineHeight: 1.5 }}>{s.c}</div></Card>)}
      <Card borderColor={C.gold}><div style={{ fontSize: 14, fontWeight: 700, color: C.dk, marginBottom: 4 }}>Playing Groups</div>
        {GROUPS.map(g2 => <div key={g2.id} style={{ padding: "6px 0", borderBottom: `1px solid ${C.lt}`, fontSize: 13 }}>
          <div style={{ fontWeight: 600 }}>{g2.name}</div>
          <div style={{ fontSize: 11, color: "#888" }}>{g2.day}s ‚Ä¢ {g2.course} ‚Ä¢ {g2.criteria}</div>
        </div>)}
      </Card>
    </div>
  );

  const renderPage = () => {
    switch (page) {
      case "home": return <Home />;
      case "skills": return <SkillsPage />;
      case "valley": return <ValleyCourse />;
      case "champ": return <ChampCourse />;
      case "schedule": return <ScheduleView />;
      case "info": return <InfoView />;
      default: return <Home />;
    }
  };

  return (
    <div style={{ fontFamily: "'Inter',-apple-system,BlinkMacSystemFont,'Segoe UI',sans-serif", background: C.off, minHeight: "100vh", color: C.ch }}>
      <Header />
      <main style={{ maxWidth: 800, margin: "0 auto", padding: 14 }}>{renderPage()}</main>
      <footer style={{ textAlign: "center", padding: "20px 14px", color: "#aaa", fontSize: 11 }}>
        <Diamond size={14} color="#ccc" />
        <div style={{ marginTop: 4 }}>Forest Hills Country Club ‚Ä¢ Junior Golf</div>
        <div>Golf Shop: (636) 227-1528</div>
      </footer>
    </div>
  );
}
